# 二分模板

---

## 二分找数

记忆诀窍：忠孝作家，肿大右肩。

忠孝作家：中值小于目标值，将左指针变成中指针加一。
肿大右肩：中值大于目标值，将右指针变成中指针减一。

```python
def binary_search(a, x):
    n = len(a)
    l, r = 0, n - 1
    while l <= r:
        m = (l + r) >> 1
        if a[m] == x:
            return m
        if a[m] < x:
            l = m + 1
        if a[m] > x:
            r = m - 1
    return -1
```

---

## 二分找左界

由于我们要找左界，所以左指针 `l` 不到万不得已不要动，只有在中值小于目标值时才动。
最后要检验左指针超界情况。
最后判定也是用左指针，返回也是左指针。

```python
def binary_search_left(a, x):
    n = len(a)
    l, r = 0, n - 1
    while l <= r:
        m = (l + r) >> 1
        if a[m] < x:
            l = m + 1
        else:
            r = m - 1
    return -1 if l == n or a[l] != x else l
```

---

## 二分找右界

由于我们要找右界，所以右指针 `r` 不到万不得已不要动，只有在中值大于目标值时才动。
最后要检验右指针超界情况。
最后判定也是用右指针，返回也是右指针。

```python
def binary_search_right(a, x):
    n = len(a)
    l, r = 0, n - 1
    while l <= r:
        m = (l + r) >> 1
        if a[m] > x:
            r = m - 1
        else:
            l = m + 1
    return -1 if r == -1 or a[r] != x else r
```

---

## 模板题


- [34. 在排序数组中查找元素的第一个和最后一个位置](https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/)
涉及知识点：整数二分左边界、整数二分右边界
